{"ast":null,"code":"var _jsxFileName = \"/home/pratik/Desktop/cocsit-project/frontend/src/Context/Note/NoteState.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useRequest from \"../../Hooks/Request\";\nimport NoteContext from \"./NoteContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NoteState = props => {\n  _s();\n\n  const HOST = \"http://localhost:5000/api/notes\";\n  const AUTH_TOKEN = JSON.parse(localStorage.getItem(\"token\"));\n  const [notes, setNotes] = useState([]);\n  const history = useHistory();\n  const checkRequest = useRequest(); // Fetching Notes\n\n  const fetchNotes = async () => {\n    if (AUTH_TOKEN) {\n      const response = await fetch(HOST, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": AUTH_TOKEN\n        }\n      });\n      const json = await response.json();\n      setNotes(json);\n    } else {\n      history.push(\"/login\");\n    }\n  }; // Adding New Note\n\n\n  const addNote = async _ref => {\n    let {\n      title,\n      description,\n      tag\n    } = _ref;\n    const response = await fetch(HOST, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN\n      },\n      body: JSON.stringify({\n        title,\n        description,\n        tag\n      })\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"Note Added Successfully\", () => setNotes(notes.concat(json)));\n  }; // Updating a Note\n\n\n  const editNote = async (id, updated) => {\n    const response = await fetch(HOST + \"/\" + id, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN\n      },\n      body: JSON.stringify(updated)\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"Note Updated Successfully\", () => setNotes(json.notes));\n  }; // Deleting a Note\n\n\n  const dltNote = async id => {\n    const response = await fetch(HOST + \"/\" + id, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN\n      }\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"Note Deleted Successfully\", () => setNotes(json.notes));\n  }; // Deleting All Notes\n\n\n  const dltAll = async () => {\n    const response = await fetch(HOST + \"/dltAll\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN\n      }\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"All Notes Deleted\", () => setNotes(json.notes));\n  };\n\n  return /*#__PURE__*/_jsxDEV(NoteContext.Provider, {\n    value: {\n      notes,\n      fetchNotes,\n      addNote,\n      editNote,\n      dltNote,\n      dltAll\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NoteState, \"ziCPId0rH6wxwXhJPQrs/6de36w=\", false, function () {\n  return [useHistory, useRequest];\n});\n\n_c = NoteState;\nexport default NoteState;\n\nvar _c;\n\n$RefreshReg$(_c, \"NoteState\");","map":{"version":3,"names":["React","useState","useHistory","useRequest","NoteContext","NoteState","props","HOST","AUTH_TOKEN","JSON","parse","localStorage","getItem","notes","setNotes","history","checkRequest","fetchNotes","response","fetch","method","headers","json","push","addNote","title","description","tag","body","stringify","status","error","concat","editNote","id","updated","dltNote","dltAll","children"],"sources":["/home/pratik/Desktop/cocsit-project/frontend/src/Context/Note/NoteState.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useRequest from \"../../Hooks/Request\";\nimport NoteContext from \"./NoteContext\";\n\nconst NoteState = (props) => {\n  const HOST = \"http://localhost:5000/api/notes\";\n  const AUTH_TOKEN = JSON.parse(localStorage.getItem(\"token\"));\n\n  const [notes, setNotes] = useState([]);\n  const history = useHistory();\n\n  const checkRequest = useRequest();\n\n  // Fetching Notes\n  const fetchNotes = async () => {\n    if (AUTH_TOKEN) {\n      const response = await fetch(HOST, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": AUTH_TOKEN,\n        },\n      });\n      const json = await response.json();\n      setNotes(json);\n    } else {\n      history.push(\"/login\");\n    }\n  };\n\n  // Adding New Note\n  const addNote = async ({ title, description, tag }) => {\n    const response = await fetch(HOST, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN,\n      },\n      body: JSON.stringify({ title, description, tag }),\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"Note Added Successfully\", () =>\n      setNotes(notes.concat(json))\n    );\n  };\n\n  // Updating a Note\n  const editNote = async (id, updated) => {\n    const response = await fetch(HOST + \"/\" + id, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN,\n      },\n      body: JSON.stringify(updated),\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"Note Updated Successfully\", () =>\n      setNotes(json.notes)\n    );\n  };\n\n  // Deleting a Note\n  const dltNote = async (id) => {\n    const response = await fetch(HOST + \"/\" + id, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN,\n      },\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"Note Deleted Successfully\", () =>\n      setNotes(json.notes)\n    );\n  };\n\n  // Deleting All Notes\n  const dltAll = async () => {\n    const response = await fetch(HOST + \"/dltAll\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"auth-token\": AUTH_TOKEN,\n      },\n    });\n    const json = await response.json();\n    checkRequest(response.status, json.error, \"All Notes Deleted\", () =>\n      setNotes(json.notes)\n    );\n  };\n\n  return (\n    <NoteContext.Provider\n      value={{ notes, fetchNotes, addNote, editNote, dltNote, dltAll }}\n    >\n      {props.children}\n    </NoteContext.Provider>\n  );\n};\n\nexport default NoteState;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}